import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location : Las Vegas for 3 Days for couple with a Cheap budget, Give me a Hotels options list with HotelName,Hotel address,Price, hotel image url,geo coordinates,rating,descriptions and suggest itinerary with placeName,Place Details,Place Image Url, Geo Coordinates,ticket Pricing,rating,Time travel each of the location for 3 days with each day plan with best time to visit in JSON format.",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "tripTitle": "Las Vegas Budget Getaway for Couples",\n  "duration": "3 Days",\n  "budget": "Cheap",\n  "travelers": "Couple",\n  "currency": "USD",\n  "hotels": [\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "50-90",\n      "hotelImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/1c/25/28/4b/circus-circus-hotel-and.jpg",\n      "geoCoordinates": {\n        "latitude": 36.1376,\n        "longitude": -115.1634\n      },\n      "rating": 3.8,\n       "descriptions": "This iconic hotel offers affordable rooms, a carnival midway, and free circus acts, making it a great choice for budget travelers. While it might not be the most luxurious, it provides a fun and lively experience. It\'s located at the northern end of the Strip.",\n      "amenities": ["Pool","Free WiFi","Free Parking","Arcade"]\n    },\n    {\n      "hotelName": "Excalibur Hotel & Casino",\n      "hotelAddress": "3850 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "60-100",\n      "hotelImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/1c/58/38/80/excalibur-hotel-casino.jpg",\n       "geoCoordinates": {\n        "latitude": 36.0989,\n        "longitude": -115.1742\n      },\n       "rating": 4,\n      "descriptions": "A castle-themed hotel offering themed entertainment and more modern rooms at an affordable price. It is located on the southern end of the Strip and connects to Luxor and Mandalay Bay via indoor walkways.",\n       "amenities": ["Pool","Free WiFi","Parking","Spa"]\n    },\n     {\n      "hotelName": "Strat Hotel, Casino & SkyPod",\n      "hotelAddress": "2000 S Las Vegas Blvd, Las Vegas, NV 89104",\n      "price": "60-110",\n      "hotelImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/1c/31/10/59/the-strat-hotel-casino.jpg",\n      "geoCoordinates": {\n        "latitude": 36.1486,\n        "longitude": -115.1555\n      },\n        "rating": 4.1,\n      "descriptions": "The Strat offers great views from its tower and has reasonably priced rooms. It is a bit off the central Strip, but offers a unique Las Vegas experience with thrill rides and a rooftop lounge. Good views for affordable price",\n         "amenities": ["Pool","Free WiFi","Parking","Tower Rides"]\n    }\n  ],\n  "itinerary": {\n    "day1": {\n      "theme": "Exploring the Strip & Free Entertainment",\n      "bestTimeToVisit": "Morning & Evening (avoid midday heat)",\n      "activities": [\n        {\n          "placeName": "Welcome to Fabulous Las Vegas Sign",\n          "placeDetails": "Take a classic Vegas photo at the iconic sign. It\'s free to visit and a must for first-timers.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/Welcome_to_Fabulous_Las_Vegas_sign_%28cropped%29.jpg/1200px-Welcome_to_Fabulous_Las_Vegas_sign_%28cropped%29.jpg",\n          "geoCoordinates": {\n            "latitude": 36.0828,\n            "longitude": -115.1713\n          },\n          "ticketPricing": "Free",\n          "rating": 4.6,\n           "travelTime": "15 min Drive from Excalibur"\n        },\n           {\n          "placeName": "Bellagio Conservatory & Botanical Gardens",\n          "placeDetails": "A stunning display of seasonal flowers and plants, free to enter.",\n          "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/14/37/4a/06/bellagio-conservatory.jpg",\n            "geoCoordinates": {\n            "latitude": 36.1129,\n            "longitude": -115.1742\n          },\n          "ticketPricing": "Free",\n          "rating": 4.7,\n            "travelTime": "20 min drive from the Vegas sign"\n        },\n        {\n          "placeName": "Fountains of Bellagio",\n          "placeDetails": "Enjoy the free spectacular water show with music and lights.",\n           "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/10/b4/45/88/fountains-of-bellagio.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1127,\n            "longitude": -115.1742\n          },\n          "ticketPricing": "Free",\n          "rating": 4.8,\n           "travelTime": "Walkable from the conservatory"\n        },\n        {\n          "placeName": "The LINQ Promenade",\n          "placeDetails": "A vibrant outdoor area with shops, restaurants, and the High Roller Observation Wheel.  Free to walk around.",\n           "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/10/ba/43/54/the-linq-promenade.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1165,\n            "longitude": -115.1687\n          },\n            "ticketPricing": "Free (High Roller extra)",\n           "rating": 4.5,\n            "travelTime": "5 min drive from Bellagio"\n        }\n      ]\n    },\n    "day2": {\n      "theme": "Downtown Las Vegas & Fremont Experience",\n      "bestTimeToVisit": "Evening (lights are best)",\n       "activities": [\n         {\n          "placeName": "Fremont Street Experience",\n           "placeDetails": "A pedestrian mall with a canopy screen for light shows, live music and entertainment. Free to enter",\n           "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/1c/33/59/df/fremont-street-experience.jpg",\n          "geoCoordinates": {\n           "latitude": 36.1706,\n            "longitude": -115.1400\n          },\n          "ticketPricing": "Free",\n          "rating": 4.6,\n          "travelTime": "10-15 min Drive from the Strat"\n        },\n         {\n          "placeName": "SlotZilla Zipline",\n          "placeDetails": "An optional thrilling zip line experience down Fremont Street.",\n           "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/1c/22/8c/c0/slotzilla-zipline.jpg",\n           "geoCoordinates": {\n            "latitude": 36.1714,\n            "longitude": -115.1402\n          },\n          "ticketPricing": "39-49",\n            "rating": 4.4,\n            "travelTime": "Located in Fremont Street"\n        },\n        {\n          "placeName": "Container Park",\n           "placeDetails":"A unique shopping and dining area made of shipping containers, live music , free play area.",\n            "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/08/8c/e3/6a/container-park.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1700,\n            "longitude": -115.1379\n          },\n          "ticketPricing": "Free",\n          "rating": 4.4,\n           "travelTime": "Walking distance from the Fremont Street"\n\n        },\n          {\n          "placeName": "Neon Museum",\n          "placeDetails": "Outdoor museum of vintage Las Vegas signs. Great for photos. (visit the yard at dusk for best lighting, optional)",\n          "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/13/00/f5/b6/neon-museum.jpg",\n            "geoCoordinates": {\n            "latitude": 36.1755,\n            "longitude": -115.1418\n           },\n          "ticketPricing": "20-28",\n          "rating": 4.7,\n            "travelTime": "Walking distance from Fremont Street"\n        }\n\n      ]\n    },\n    "day3": {\n      "theme": "South Strip exploration",\n       "bestTimeToVisit": "Morning & Evening (avoid midday heat)",\n        "activities": [\n          {\n            "placeName": "Mandalay Bay Beach",\n            "placeDetails": "Although primarily for hotel guests, you can admire the beach from public walkways. It\'s a beautiful area to stroll.",\n            "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/15/a6/88/7c/mandalay-bay-beach.jpg",\n             "geoCoordinates": {\n               "latitude": 36.0902,\n               "longitude": -115.1737\n              },\n            "ticketPricing": "Free",\n           "rating": 4.5,\n           "travelTime":"5 Min Drive from Excalibur"\n           },\n          {\n            "placeName": "Luxor Hotel & Casino",\n            "placeDetails": "Visit the Egyptian themed hotel and its striking pyramid architecture",\n             "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/1c/91/71/98/luxor-hotel-casino.jpg",\n            "geoCoordinates": {\n               "latitude": 36.0956,\n               "longitude": -115.1742\n               },\n             "ticketPricing": "Free",\n            "rating": 4.3,\n             "travelTime":"5 min Drive from Mandalay Bay"\n          },\n          {\n              "placeName": "Walk along the South Strip",\n              "placeDetails": "Stroll along the South Strip, enjoying the themed hotels like Paris Las Vegas and New York-New York.",\n              "placeImageUrl": "https://a.cdn-hotels.com/gdcs/production112/d1675/16192e25-6575-4b0d-a427-bf74c7d1b0e1.jpg",\n              "geoCoordinates": {\n               "latitude": 36.1038,\n               "longitude": -115.1718\n              },\n              "ticketPricing": "Free",\n              "rating": 4.6,\n              "travelTime": "Walkable from Luxor"\n             },\n             {\n            "placeName": "M&M\'s World Las Vegas",\n              "placeDetails": "Enjoy this colorful four-story store dedicated to M&M\'s. It has unique displays and gifts",\n             "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/18/a0/4b/43/m-m-s-world.jpg",\n              "geoCoordinates": {\n              "latitude": 36.1045,\n              "longitude": -115.1718\n                },\n             "ticketPricing": "Free",\n            "rating": 4.4,\n              "travelTime": "Walkable from South Strip"\n            }\n\n        ]\n    }\n  }\n}\n```\n\n**Important Notes for Budget Travel:**\n\n*   **Transportation:** Walk as much as possible on the Strip. Consider using the Deuce bus (strip bus) for longer distances, or use ride-sharing apps for specific trips.\n*   **Food:**  Look for affordable dining options like fast food, food courts, and happy hour deals. Grocery stores on the outskirts of the Strip can be a good option for buying snacks and drinks.\n*   **Free Activities:** Las Vegas has many free shows, attractions, and things to see. Take advantage of them!\n*   **Book in Advance:** Hotel prices fluctuate, booking in advance can sometimes secure better rates.\n*   **Weekdays vs. Weekends:** Prices are typically lower during weekdays and non-holiday periods.\n*   **Pack Light:** Avoid checked baggage fees by packing light.\n\nThis detailed JSON provides you with hotel and itinerary options to plan your Las Vegas trip. Enjoy your trip!\n',
        },
      ],
    },
  ],
});
